# exploit-db-server

exploit-db-server combines [go-exploitdb](https://github.com/vulsio/go-exploitdb) running in
server mode with a mechanism for periodically updating the known exploits into
a single container which can be deployed standalone or on kubernetes.

It will update the database (from all supported sources) once when the
container starts and then every 3 hours until the container stops.

## Table of Contents<!-- omit in toc -->

- [Building](#building)
- [Running](#running)
- [Querying](#querying)
- [Contributing](#contributing)
- [Code of Conduct](#code-of-conduct)
- [License](#license)

## Building

```
# Registry defaults to ghcr.io/openclarity and tag defaults to the latest commit ID
DOCKER_REGISTRY=<registry> DOCKER_TAG=<tag> make docker
```

## Running

```
docker run -d -p 1326:1326 --name exploit-db-server <registry>/exploit-db-server:<tag>
```

To persist the database between container runs:

```
mkdir /opt/exploit-db
docker run -d -p 1326:1326 -v /opt/exploit-db:/vuls -name exploit-db-server <registry>/exploit-db-server:<tag>
```

## Querying

Example for how to query the server are given on the
[go-exploitdb](https://github.com/vulsio/go-exploitdb) README:

* [Search Exploits by CVE ID](https://github.com/vulsio/go-exploitdb#search-exploits-get-by-curl-for-cveex-cve-2006-2896)
* [Search Exploits by Unique ID](https://github.com/vulsio/go-exploitdb#search-exploits-by-unique-idex-exploit-unique-id-10180)

## Contributing

If you are ready to jump in and test, add code, or help with documentation,
please follow the instructions on our [contributing guide](/CONTRIBUTING.md)
for details on how to open issues, setup VMClarity for development and test.

## Code of Conduct

You can view our code of conduct [here](/CODE_OF_CONDUCT.md).

## License

[Apache License, Version 2.0](/LICENSE)
